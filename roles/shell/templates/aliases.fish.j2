# =============================================================================
# Fish Shell Aliases
# Generated by Ansible - Do not edit manually
# =============================================================================

# Void Linux package management (using doas)
alias pkgs "xbps-query -Rs"
alias pkgi "doas xbps-install -Sy"
alias pkgr "doas xbps-remove -Ry"
alias pkgu "doas xbps-install -Syu && doas xbps-remove -Oo && doas vkpurge rm all"

# System commands with doas
alias sudo "doas"
alias logout "pkill -u $USER"
alias suspend "doas zzz"
alias hibernate "doas ZZZ"
alias reboot "doas reboot"
alias poweroff "doas poweroff"

# Modern CLI tools
alias ls "exa -l --color=always --group-directories-first --icons"
alias la "exa -la --color=always --group-directories-first --icons"
alias ll "exa -l --color=always --group-directories-first --icons"
alias lt "exa -aT --color=always --group-directories-first --icons"
alias cat "bat --style=auto"
alias grep "grep --color=auto"
alias diff "diff --color=auto"
alias ip "ip -color=auto"
alias find "fd"

# Navigation
alias .. "cd .."
alias ... "cd ../.."
alias .... "cd ../../.."

# Editor shortcuts
alias e "{{ editor }}"
alias v "{{ editor }}"
alias cfish "{{ editor }} ~/.config/fish/config.fish"
alias criver "{{ editor }} ~/.config/river/init"

# Bluetooth
alias bt "bluetoothctl"

# Git shortcuts
alias g "git"
alias ga "git add"
alias gaa "git add --all"
alias gc "git commit -m"
alias gp "git push"
alias gpl "git pull"
alias gs "git status"
alias gd "git diff"
alias gl "git log --oneline -10"
alias gco "git checkout"
alias gb "git branch"

# Safety
alias rm "rm -I"
alias mv "mv -i"
alias cp "cp -i"

# Misc
alias trashclean "rm -rf ~/.local/share/Trash/*"
alias fontsearch "fc-list | grep -i"
alias myip "curl -s ifconfig.me"
alias weather "curl -s wttr.in"

# Functions
function mkcd --description 'Create directory and cd into it'
    mkdir -p $argv[1] && cd $argv[1]
end

function backup --description 'Create a backup of a file'
    cp $argv[1] $argv[1].bak.(date +%Y%m%d_%H%M%S)
end

function extract --description 'Extract any archive'
    switch $argv[1]
        case '*.tar.bz2'
            tar xjf $argv[1]
        case '*.tar.gz'
            tar xzf $argv[1]
        case '*.tar.xz'
            tar xJf $argv[1]
        case '*.bz2'
            bunzip2 $argv[1]
        case '*.gz'
            gunzip $argv[1]
        case '*.tar'
            tar xf $argv[1]
        case '*.tbz2'
            tar xjf $argv[1]
        case '*.tgz'
            tar xzf $argv[1]
        case '*.zip'
            unzip $argv[1]
        case '*.7z'
            7z x $argv[1]
        case '*'
            echo "Unknown archive format: $argv[1]"
    end
end

function tv --description 'Toggle between PC monitor and TV'
    if set -q display_mode && test "$display_mode" = "pc"
        riverctl output DP-1 disable
        riverctl output HDMI-A-2 enable scale 2.0
        set -g display_mode "tv"
        echo "Switched to TV mode"
    else
        riverctl output HDMI-A-2 disable
        riverctl output DP-1 enable scale 0.9
        set -g display_mode "pc"
        echo "Switched to PC mode"
    end
end

function upall --description 'Update all packages'
    echo "Updating system packages..."
    doas xbps-install -Syu
    doas xbps-remove -Oo
    doas vkpurge rm all
    
    if command -v nix-env >/dev/null
        echo "Updating Nix packages..."
        nix-channel --update
        nix-env -u
    end
    
    if command -v flatpak >/dev/null
        echo "Updating Flatpak..."
        flatpak update -y
    end
    
    if test -x /usr/local/bin/maza
        echo "Updating maza blocklist..."
        doas /usr/local/bin/maza update
    end
    
    echo "All updates complete!"
end
